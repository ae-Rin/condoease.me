import{r as i,j as e,a as u,C as n}from"./index-CIjTItgH.js";import{b as f,c as C,d as g}from"./index-B8VcS973.js";import{C as b,a as w}from"./CRow-C0R9k1kt.js";import{C as y,a as N,b as a,c as t,d as _,e as r}from"./CTable-BKwUVwQq.js";const S=()=>{const[o,c]=i.useState([]),[d,h]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const p=await(await fetch("http://localhost:5000/api/properties",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();c(p)}catch(l){console.error("Error fetching properties:",l)}finally{h(!1)}})()},[]);const x=s=>{alert(`View details for property ID: ${s}`)},j=s=>{alert(`Edit details for property ID: ${s}`)},m=s=>{window.confirm("Are you sure you want to delete this property?")&&alert(`Property ID ${s} deleted`)};return e.jsxs(u,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Registered Properties"}),e.jsx(b,{children:e.jsx(w,{children:e.jsxs(y,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(N,{children:e.jsxs(a,{children:[e.jsx(t,{children:"Property Name"}),e.jsx(t,{children:"Location"}),e.jsx(t,{children:"Property Type"}),e.jsx(t,{children:"Rent Price"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Owner"}),e.jsx(t,{children:"Number of Units"}),e.jsx(t,{children:"Action"})]})}),e.jsx(_,{children:d?e.jsx(a,{children:e.jsx(r,{colSpan:"8",className:"text-center",children:"Loading properties..."})},"loading"):o.length===0?e.jsx(a,{children:e.jsx(r,{colSpan:"8",className:"text-center",children:"No properties found."})},"no-data"):e.jsx(e.Fragment,{children:o.map(s=>e.jsxs(a,{children:[e.jsx(r,{children:s.property_name}),e.jsx(r,{children:s?`${s.street}, ${s.barangay}, ${s.city}, ${s.province}`:"No Address"}),e.jsx(r,{children:s.property_type}),e.jsxs(r,{children:["â‚±",s.rent_price]}),e.jsx(r,{children:s.status}),e.jsx(r,{children:s.registered_owner}),e.jsx(r,{children:s.number_of_units||0}),e.jsxs(r,{children:[e.jsx(n,{color:"info",size:"sm",className:"me-2",onClick:()=>x(s.property_id),children:e.jsx(f,{})}),e.jsx(n,{color:"warning",size:"sm",className:"me-2",onClick:()=>j(s.property_id),children:e.jsx(C,{})}),e.jsx(n,{color:"danger",size:"sm",onClick:()=>m(s.property_id),children:e.jsx(g,{})})]})]},s.property_id))})})]})})})]})};export{S as default};
