import{r as i,j as e,a as C,C as o}from"./index-CtLSwhzW.js";import{b as w,c as g,d as b}from"./index-11q8vo4q.js";import{C as _,a as y}from"./CRow-L-YeHWLz.js";import{C as N,a as P,b as n,c as t,d as E,e as r}from"./CTable-Dp0CapVR.js";const R=()=>{const c="https://condoease-backends.onrender.com",[l,d]=i.useState([]),[h,x]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const a=await fetch(`${c}/api/properties`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!a.ok){const u=await a.json();throw new Error(u.error||"Failed to fetch properties")}const f=await a.json();d(f)}catch(a){console.error("Error fetching properties:",a)}finally{x(!1)}})()},[c]);const j=s=>{alert(`View details for property ID: ${s}`)},m=s=>{alert(`Edit details for property ID: ${s}`)},p=s=>{window.confirm("Are you sure you want to delete this property?")&&alert(`Property ID ${s} deleted`)};return e.jsxs(C,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Registered Properties"}),e.jsx(_,{children:e.jsx(y,{children:e.jsxs(N,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(P,{children:e.jsxs(n,{children:[e.jsx(t,{children:"Property Name"}),e.jsx(t,{children:"Location"}),e.jsx(t,{children:"Property Type"}),e.jsx(t,{children:"Rent Price"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Owner"}),e.jsx(t,{children:"Number of Units"}),e.jsx(t,{children:"Action"})]})}),e.jsx(E,{children:h?e.jsx(n,{children:e.jsx(r,{colSpan:"8",className:"text-center",children:"Loading properties..."})},"loading"):l.length===0?e.jsx(n,{children:e.jsx(r,{colSpan:"8",className:"text-center",children:"No properties found."})},"no-data"):e.jsx(e.Fragment,{children:l.map(s=>e.jsxs(n,{children:[e.jsx(r,{children:s.property_name}),e.jsx(r,{children:s?`${s.street}, ${s.barangay}, ${s.city}, ${s.province}`:"No Address"}),e.jsx(r,{children:s.property_type}),e.jsxs(r,{children:["â‚±",s.rent_price]}),e.jsx(r,{children:s.status}),e.jsx(r,{children:s.registered_owner}),e.jsx(r,{children:s.number_of_units||0}),e.jsxs(r,{children:[e.jsx(o,{color:"info",size:"sm",className:"me-2",onClick:()=>j(s.property_id),children:e.jsx(w,{})}),e.jsx(o,{color:"warning",size:"sm",className:"me-2",onClick:()=>m(s.property_id),children:e.jsx(g,{})}),e.jsx(o,{color:"danger",size:"sm",onClick:()=>p(s.property_id),children:e.jsx(b,{})})]})]},s.property_id))})})]})})})]})};export{R as default};
