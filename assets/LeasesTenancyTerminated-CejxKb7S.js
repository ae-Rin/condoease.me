import{r as i,j as e,a as m,C as u}from"./index-BsEuo8Tb.js";import{d as p}from"./index-Be4Sch1C.js";import{C as T,a as C}from"./CRow-BDLDEt35.js";import{C as f,a as b,b as n,c as a,d as y,e as t}from"./CTable-BD7SNZbl.js";const N=()=>{const[c,d]=i.useState([]),[o,h]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const l=await(await fetch("http://localhost:5000/api/terminated-leases",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();d(l)}catch(r){console.error("Error fetching terminated leases:",r)}finally{h(!1)}})()},[]);const x=s=>{window.confirm("Are you sure you want to permanently delete this lease?")&&alert(`Lease ID ${s} permanently deleted`)},j=s=>Object.values(s).reduce((r,l)=>r+(parseFloat(l)||0),0);return e.jsxs(m,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Terminated Leases"}),e.jsx(T,{children:e.jsx(C,{children:e.jsxs(f,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(b,{children:e.jsxs(n,{children:[e.jsx(a,{children:"Unit Type"}),e.jsx(a,{children:"Unit Number"}),e.jsx(a,{children:"Tenant"}),e.jsx(a,{children:"Start Date"}),e.jsx(a,{children:"End Date"}),e.jsx(a,{children:"Rent Price"}),e.jsx(a,{children:"Total Bills"}),e.jsx(a,{children:"Action"})]})}),e.jsx(y,{children:o?e.jsx(n,{children:e.jsx(t,{colSpan:"8",className:"text-center",children:"Loading terminated leases..."})},"loading"):c.length===0?e.jsx(n,{children:e.jsx(t,{colSpan:"8",className:"text-center",children:"No terminated leases found."})},"no-data"):c.map(s=>e.jsxs(n,{children:[e.jsx(t,{children:s.unit_type}),e.jsx(t,{children:s.unit_number}),e.jsx(t,{children:s.tenant_email}),e.jsx(t,{children:s.start_date.split("T")[0]}),e.jsx(t,{children:s.end_date.split("T")[0]}),e.jsxs(t,{children:["₱",s.rent_price]}),e.jsxs(t,{children:["₱",j(s.bills)]}),e.jsx(t,{children:e.jsx(u,{color:"danger",size:"sm",onClick:()=>x(s.lease_id),children:e.jsx(p,{})})})]},s.lease_id))})]})})})]})};export{N as default};
