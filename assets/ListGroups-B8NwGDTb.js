import{u as y,r as o,j as e,C as p}from"./index-DpFlNDoN.js";import{b as r,e as a,C as N,a as f,c as n,d as T}from"./CTable-DTOdEtHt.js";const S=()=>{const c=y(),l="https://condoease-backends.onrender.com",[i,d]=o.useState([]),[h,x]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const s=await fetch(`${l}/api/payment-list`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!s.ok){const u=await s.json();throw new Error(u.error||"Failed to fetch payment list")}const j=await s.json();d(j.payments)}catch(s){console.error("Error fetching payment list:",s)}finally{x(!1)}})()},[l]);const m=(t,s)=>{c(`/payments/${t}/${s}`)};return e.jsxs("div",{className:"container",style:{padding:"20px"},children:[e.jsx("h4",{className:"mb-3",children:"TENANT TRANSACTIONS"}),e.jsx("h2",{className:"mb-3",children:"Payment List by Month"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-body-secondary",style:{cursor:"pointer"},onClick:()=>c("/cards"),children:"DASHBOARD"})," ","/ ",e.jsx("span",{style:{color:"#F28D35"},children:"TENANT TRANSACTIONS"})]}),h?e.jsx(r,{children:e.jsx(a,{colSpan:"7",className:"text-center",children:"Loading payment list..."})}):i.length===0?e.jsx(r,{children:e.jsx(a,{colSpan:"7",className:"text-center",children:"No payments found."})}):e.jsxs(N,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(f,{children:e.jsxs(r,{children:[e.jsx(n,{children:"ID"}),e.jsx(n,{children:"Month and Year"}),e.jsx(n,{children:"Number of Payments"}),e.jsx(n,{children:"Total Due"}),e.jsx(n,{children:"Action"})]})}),e.jsx(T,{children:i.map((t,s)=>e.jsxs(r,{children:[e.jsx(a,{children:s+1}),e.jsxs(a,{children:[t.month," ",t.year]}),e.jsx(a,{children:t.numberOfPayments}),e.jsxs(a,{children:["$",t.totalDue.toFixed(2)]}),e.jsx(a,{children:e.jsx(p,{color:"info",size:"sm",onClick:()=>m(t.month,t.year),children:"Show"})})]},s))})]})]})};export{S as default};
