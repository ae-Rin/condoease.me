import{r as o,j as e,a as C,C as i}from"./index-BtgxjJUI.js";import{b as w,c as y,d as b}from"./index-CBsnG1mx.js";import{C as g,a as _}from"./CRow-NbDBOQDF.js";import{C as $,a as E,b as a,c as t,d as N,e as r}from"./CTable-B48L7tfr.js";const O=()=>{const c="https://condoease-backends.onrender.com",[l,d]=o.useState([]),[h,x]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const n=await fetch(`${c}/api/property-owners`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!n.ok){const u=await n.json();throw new Error(u.error||"Failed to fetch property owners")}const f=await n.json();d(f)}catch(n){console.error("Error fetching property owners:",n)}finally{x(!1)}})()},[c]);const j=s=>{alert(`View details for owner ID: ${s}`)},m=s=>{alert(`Edit details for owner ID: ${s}`)},p=s=>{window.confirm("Are you sure you want to delete this property owner?")&&alert(`Owner ID ${s} deleted`)};return e.jsxs(C,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Registered Property Owners"}),e.jsx(g,{children:e.jsx(_,{children:e.jsxs($,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(E,{children:e.jsxs(a,{children:[e.jsx(t,{children:"Fullname"}),e.jsx(t,{children:"Email"}),e.jsx(t,{children:"Contact Number"}),e.jsx(t,{children:"Address"}),e.jsx(t,{children:"Statistics"}),e.jsx(t,{children:"Action"})]})}),e.jsx(N,{children:h?e.jsx(a,{children:e.jsx(r,{colSpan:"8",className:"text-center",children:"Loading property owners..."})},"loading"):l.length===0?e.jsx(a,{children:e.jsx(r,{colSpan:"8",className:"text-center",children:"No property owners found."})},"no-data"):e.jsx(e.Fragment,{children:l.map(s=>e.jsxs(a,{children:[e.jsx(r,{children:`${s.first_name} ${s.last_name}`}),e.jsx(r,{children:s.email}),e.jsx(r,{children:s.contact_number}),e.jsx(r,{children:`${s.street}, ${s.barangay}, ${s.city}, ${s.province}`}),e.jsxs(r,{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Properties:"})," ",s.number_of_properties||0]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Units:"})," ",s.number_of_units||0]})]}),e.jsxs(r,{children:[e.jsx(i,{color:"info",size:"sm",className:"me-2",onClick:()=>j(s.owner_id),children:e.jsx(w,{})}),e.jsx(i,{color:"warning",size:"sm",className:"me-2",onClick:()=>m(s.owner_id),children:e.jsx(y,{})}),e.jsx(i,{color:"danger",size:"sm",onClick:()=>p(s.owner_id),children:e.jsx(b,{})})]})]},s.owner_id))})})]})})})]})};export{O as default};
