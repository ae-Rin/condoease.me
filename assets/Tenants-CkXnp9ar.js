import{r as x,j as e,a as y,C as j}from"./index-CFaCR2Z_.js";import{C,a as N}from"./CCardBody-D4gQPZyu.js";import{C as g}from"./CCardHeader-DFopN1Lp.js";import{C as b}from"./CForm-D03aX8WF.js";import{C as c,a as t}from"./CRow-DXGzrSre.js";import{C as n}from"./CFormInput-BXK229md.js";import{C as i}from"./CFormSelect-BKVH-6rP.js";import"./CFormControlWrapper-Cums9c7r.js";const v=["Philippine Passport","Driver's License","National ID (PhilSys)","UMID Card","PRC ID","SSS ID","Voter's ID","Senior Citizen ID","PhilHealth ID","TIN Card","School ID","Postal ID","Employee ID","Barangay Certificate/Clearance","Company ID","Pag-IBIG Loyalty Card","OWWA Card","NBI Clearance","Military ID"],P=()=>{const[a,m]=x.useState({lastName:"",firstName:"",email:"",contactNumber:"",street:"",barangay:"",city:"",province:"",idType:"",idNumber:"",idDocument:null,occupationStatus:"",occupationPlace:"",emergencyContactName:"",emergencyContactNumber:"",unitNumber:"",moveInDate:"",leaseTerm:"",monthlyRent:""}),r=s=>{const{name:l,value:o}=s.target;m(p=>({...p,[l]:o}))},d=s=>{const l=s.target.files[0];m(o=>({...o,idDocument:l}))},h=async()=>{try{const s=await fetch("http://localhost:5000/api/tenants",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!s.ok)throw new Error(await s.text());const l=await s.json();setTenantsList(l)}catch(s){console.error("Failed to fetch tenants:",s)}},u=async s=>{s.preventDefault();const l=new FormData;Object.keys(a).forEach(o=>{l.append(o,a[o])});try{const o=await fetch("http://localhost:5000/api/tenants",{method:"POST",body:l,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!o.ok)throw new Error(await o.text());alert("Tenant registered successfully!"),m({lastName:"",firstName:"",email:"",contactNumber:"",street:"",barangay:"",city:"",province:"",idType:"",idNumber:"",idDocument:null,occupationStatus:"",occupationPlace:"",emergencyContactName:"",emergencyContactNumber:"",unitNumber:"",moveInDate:"",leaseTerm:"",monthlyRent:""}),await h()}catch(o){console.error(o),alert("Error registering tenant.")}};return e.jsxs(y,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Register New Tenant"}),e.jsxs(C,{children:[e.jsx(g,{className:"text-body-secondary",children:e.jsx("strong",{children:"Tenant Information"})}),e.jsx(N,{children:e.jsxs(b,{onSubmit:u,children:[e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"lastName",placeholder:"Last Name",value:a.lastName,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"firstName",placeholder:"First Name",value:a.firstName,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"contactNumber",placeholder:"Contact Number",value:a.contactNumber,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"street",placeholder:"Street",value:a.street,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"barangay",placeholder:"Barangay",value:a.barangay,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"city",placeholder:"City",value:a.city,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"province",placeholder:"Province",value:a.province,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsxs(i,{name:"idType",value:a.idType,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select ID Type"}),v.map((s,l)=>e.jsx("option",{value:s,children:s},l))]})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"idNumber",placeholder:"ID Number",value:a.idNumber,onChange:r,required:!0})})]}),e.jsx(c,{className:"mb-3",children:e.jsx(t,{md:12,children:e.jsx(n,{type:"file",name:"idDocument",onChange:d,required:!0})})}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Place of Work / School"}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsxs(i,{name:"occupationStatus",value:a.occupationStatus,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select Occupation Status"}),e.jsx("option",{value:"employee",children:"Employee"}),e.jsx("option",{value:"employer",children:"Employer"}),e.jsx("option",{value:"self-employed",children:"Self-Employed"}),e.jsx("option",{value:"student",children:"Student"})]})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"occupationPlace",placeholder:"Company / School Name",value:a.occupationPlace,onChange:r,required:!0})})]}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Emergency Contact"}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"emergencyContactName",placeholder:"Emergency Contact Name",value:a.emergencyContactName,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"emergencyContactNumber",placeholder:"Emergency Contact Number",value:a.emergencyContactNumber,onChange:r,required:!0})})]}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Unit Assignment"}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"unitNumber",placeholder:"Unit Number",value:a.unitNumber,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"date",name:"moveInDate",placeholder:"Move-in Date",value:a.moveInDate,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"leaseTerm",placeholder:"Lease Term (e.g. 12 months)",value:a.leaseTerm,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"number",name:"monthlyRent",placeholder:"Monthly Rent (â‚±)",value:a.monthlyRent,onChange:r,required:!0})})]}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(j,{type:"submit",style:{backgroundColor:"#F28D35",color:"white",fontWeight:"bold"},children:"Register Tenant"})})]})})]})]})};export{P as default};
