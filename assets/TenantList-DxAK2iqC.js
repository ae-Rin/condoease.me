import{r as o,j as e,a as b,C as i}from"./index-Do1h-Tix.js";import{b as p,c as T,d as g}from"./index-REDqHRjm.js";import{C as w,a as $}from"./CRow-DTl0GnMD.js";import{C as E,a as _,b as t,c as n,d as y,e as a}from"./CTable-DhI0NAvt.js";const A=()=>{const l="https://condoease-backends.onrender.com",[c,d]=o.useState([]),[h,x]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const r=await fetch(`${l}/api/tenants`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!r.ok){const C=await r.json();throw new Error(C.error||"Failed to fetch tenants")}const u=await r.json();d(u)}catch(r){console.error("Error fetching tenants:",r)}finally{x(!1)}})()},[l]);const j=s=>{alert(`View details for tenant ID: ${s}`)},m=s=>{alert(`Edit details for tenant ID: ${s}`)},f=s=>{window.confirm("Are you sure you want to delete this tenant?")&&alert(`Tenant ID ${s} deleted`)};return e.jsxs(b,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Registered Tenants"}),e.jsx(w,{children:e.jsx($,{children:e.jsxs(E,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(_,{children:e.jsxs(t,{children:[e.jsx(n,{children:"Fullname"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Contact Number"}),e.jsx(n,{children:"Address"}),e.jsx(n,{children:"Number of Leases"}),e.jsx(n,{children:"Action"})]})}),e.jsx(y,{children:h?e.jsx(t,{children:e.jsx(a,{colSpan:"8",className:"text-center",children:"Loading tenants..."})},"loading"):c.length===0?e.jsx(t,{children:e.jsx(a,{colSpan:"8",className:"text-center",children:"No tenants found."})},"no-data"):e.jsx(e.Fragment,{children:c.map(s=>e.jsxs(t,{children:[e.jsx(a,{children:`${s.first_name} ${s.last_name}`}),e.jsx(a,{children:s.email}),e.jsx(a,{children:s.contact_number}),e.jsx(a,{children:`${s.street}, ${s.barangay}, ${s.city}, ${s.province}`}),e.jsx(a,{children:s.number_of_leases||0}),e.jsxs(a,{children:[e.jsx(i,{color:"info",size:"sm",className:"me-2",onClick:()=>j(s.tenant_id),children:e.jsx(p,{})}),e.jsx(i,{color:"warning",size:"sm",className:"me-2",onClick:()=>m(s.tenant_id),children:e.jsx(T,{})}),e.jsx(i,{color:"danger",size:"sm",onClick:()=>f(s.tenant_id),children:e.jsx(g,{})})]})]},s.tenant_id))})})]})})})]})};export{A as default};
