import{u as y,r,j as e,C as p}from"./index-eyVKPENB.js";import{C as f,a as b,b as l,c as a,d as C,e as n}from"./CTable-fwlnDM4c.js";const T=()=>{const o=y(),i="https://condoease-backends.onrender.com",[c,d]=r.useState([]),[h,m]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const s=await fetch(`${i}/api/payment-list`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!s.ok){const u=await s.json();throw new Error(u.error||"Failed to fetch payment list")}const j=await s.json();d(j.payments)}catch(s){console.error("Error fetching payment list:",s)}finally{m(!1)}})()},[i]);const x=(t,s)=>{o(`/payments/${t}/${s}`)};return e.jsxs("div",{className:"container",style:{padding:"20px"},children:[e.jsx("h4",{className:"mb-3",children:"Payment List by Month"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-body-secondary",style:{cursor:"pointer"},onClick:()=>o("/cards"),children:"DASHBOARD"})," ","/ ",e.jsx("span",{style:{color:"#F28D35"},children:"PAYMENT LIST"})]}),h?e.jsx("p",{children:"Loading payment list..."}):c.length===0?e.jsx("p",{children:"No payments found."}):e.jsxs(f,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(b,{children:e.jsxs(l,{children:[e.jsx(a,{children:"#"}),e.jsx(a,{children:"Month and Year"}),e.jsx(a,{children:"Number of Payments"}),e.jsx(a,{children:"Total Due"}),e.jsx(a,{children:"Action"})]})}),e.jsx(C,{children:c.map((t,s)=>e.jsxs(l,{children:[e.jsx(n,{children:s+1}),e.jsxs(n,{children:[t.month," ",t.year]}),e.jsx(n,{children:t.numberOfPayments}),e.jsxs(n,{children:["$",t.totalDue.toFixed(2)]}),e.jsx(n,{children:e.jsx(p,{color:"info",size:"sm",onClick:()=>x(t.month,t.year),children:"Show"})})]},s))})]})]})};export{T as default};
