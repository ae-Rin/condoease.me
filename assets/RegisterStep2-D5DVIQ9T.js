import{b as P,u as k,r as l,j as e,l as z,C as h,a as F}from"./index-CCBHo-lD.js";import{b as p}from"./index-CrzB-_JX.js";import{C as u,a as n}from"./CRow-C3lqLwZH.js";import{C as E}from"./CForm-pPdulyhL.js";import{C as r}from"./CFormInput-FEyURwpP.js";import{C as b,a as g}from"./CInputGroupText-BbCZR7ls.js";import"./CFormControlWrapper-DnRc_QrD.js";const O=()=>{var m;const f="https://condoease-backends.onrender.com",w=P(),d=k(),C=((m=w.state)==null?void 0:m.email)||"",[c,j]=l.useState(C),[y,N]=l.useState(!1),[v,A]=l.useState(!1),[s,R]=l.useState({firstName:"",lastName:"",email:"",password:"",rePassword:"",role:"tenant"}),o=t=>{const{name:i,value:a}=t.target;R({...s,[i]:a})},S=async t=>{t.preventDefault();const i=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!$@%])[A-Za-z\d!$@%]{8,}$/;if(s.password!==s.rePassword){alert("Passwords do not match!");return}if(!i.test(s.password)){alert("Password must be at least 8 characters and include a combination of letters, numbers, and special characters (!$@%).");return}try{const a=await fetch(`${f}/api/registerstep2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:s.firstName,lastName:s.lastName,email:c,password:s.password,role:s.role})}),x=await a.json();a.ok&&x.success?(alert("Registration successful!"),d("/login")):alert(x.error||"Registration failed.")}catch{alert("Server error. Please try again later.")}};return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-column",style:{minHeight:"100vh"},children:[e.jsxs("div",{style:{background:"#1D2B57",height:80,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 50px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("img",{src:z,alt:"CondoEase Logo",style:{height:64,marginRight:12}})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:34},children:[e.jsx("span",{style:{color:"white",fontSize:20},children:"Already have an account?"}),e.jsx(h,{className:"text-white fw-bold px-4",style:{borderRadius:20,fontSize:20,backgroundColor:"#F28D35"},onClick:()=>d("/login"),children:"Log in"})]})]}),e.jsx(F,{className:"flex-grow-1 d-flex flex-column align-items-center justify-content-center",children:e.jsx(u,{className:"justify-content-center w-100",children:e.jsxs(n,{xs:12,md:7,lg:5,xl:4,children:[e.jsxs("div",{className:"d-flex justify-content-center align-items-center mb-5 mt-3",style:{gap:0},children:[e.jsx("div",{style:{width:25,height:25,borderRadius:"50%",background:"#F7941D",border:"3px solid #B86C29"}}),e.jsx("div",{style:{flex:1,height:2,background:"#B86C29"}}),e.jsx("div",{style:{width:25,height:25,borderRadius:"50%",background:"#F7941D",border:"3px solid #B86C29"}}),e.jsx("div",{style:{flex:1,height:2,background:"#333333"}}),e.jsx("div",{style:{width:25,height:25,borderRadius:"50%",background:"#6B6B6B",border:"3px solid #333333"}})]}),e.jsx("div",{className:"text-center mb-3",children:e.jsx("h2",{className:"fw-bold mb-4 text-start",style:{fontSize:32},children:"Create Account"})}),e.jsxs(E,{onSubmit:S,children:[e.jsxs(u,{className:"mb-3",children:[e.jsxs(n,{children:[e.jsx("div",{className:"fw-semibold text-start mb-1",children:"First Name"}),e.jsx(r,{type:"text",placeholder:"First Name",name:"firstName",value:s.firstName,onChange:o,style:{borderColor:"#A3C49A",borderRadius:10,fontSize:16,padding:"16px 16px"}})]}),e.jsxs(n,{children:[e.jsx("div",{className:"fw-semibold text-start mb-1",children:"Last Name"}),e.jsx(r,{type:"text",placeholder:"Last Name",name:"lastName",value:s.lastName,onChange:o,style:{borderColor:"#A3C49A",borderRadius:10,fontSize:16,padding:"16px 16px"}})]})]}),e.jsx("div",{className:"mb-2 fw-semibold text-start",children:"Email"}),e.jsx(r,{type:"email",placeholder:"email@gmail.com",value:c,onChange:t=>j(t.target.value),className:"mb-3",required:!0,style:{borderColor:"#A3C49A",borderRadius:10,fontSize:16,padding:"16px 16px"}}),e.jsx("div",{className:"mb-2 fw-semibold text-start",children:"Enter Password"}),e.jsxs(b,{className:"mb-3",children:[e.jsx(r,{type:y?"text":"password",placeholder:"Enter Password",name:"password",value:s.password,onChange:o,style:{borderColor:"#A3C49A",borderRadius:10,fontSize:16,padding:"16px 16px"}}),e.jsx(g,{style:{background:"transparent",cursor:"pointer",borderColor:"#A3C49A"},onClick:()=>N(t=>!t),children:e.jsx(p,{color:"#A3C49A"})})]}),e.jsx("div",{className:"mb-2 fw-semibold text-start",children:"Re-Enter Password"}),e.jsxs(b,{className:"mb-4",children:[e.jsx(r,{type:v?"text":"password",placeholder:"Re-Enter Password",name:"rePassword",value:s.rePassword,onChange:o,style:{borderColor:"#A3C49A",borderRadius:10,fontSize:16,padding:"16px 16px"}}),e.jsx(g,{style:{background:"transparent",cursor:"pointer",borderColor:"#A3C49A"},onClick:()=>A(t=>!t),children:e.jsx(p,{color:"#A3C49A"})}),e.jsx("small",{className:"text-muted mt-3 text-center",children:"Password must be at least 8 characters and include letters, numbers, and special characters (!$@%)."})]}),e.jsx("div",{className:"d-grid mb-4",children:e.jsx(h,{className:"text-white fw-bold",style:{borderRadius:50,fontSize:25,padding:"13px 0",width:"90%",margin:"0 auto",backgroundColor:"#F28D35"},type:"submit",children:"Create Account"})})]})]})})})]})};export{O as default};
