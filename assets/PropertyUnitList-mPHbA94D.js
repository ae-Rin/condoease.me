import{r as l,j as e,a as u,C as c}from"./index-BX5ceNpn.js";import{b as y,c as f,d as C}from"./index-BWtJmbv4.js";import{C as g,a as b}from"./CRow-BArRv2lZ.js";import{C as _,a as w,b as a,c as t,d as N,e as s}from"./CTable-Dnvh_xSu.js";const S=()=>{const[d,i]=l.useState([]),[h,p]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const n=localStorage.getItem("authToken");if(!n){console.error("No token found. User may not be logged in.");return}const o=await(await fetch("http://localhost:5000/api/property-units",{headers:{Authorization:`Bearer ${n}`}})).json();Array.isArray(o)?i(o):(console.error("API did not return an array:",o),i([]))}catch(n){console.error("Fetch error:",n),i([])}finally{p(!1)}})()},[]);const x=r=>{alert(`View details for unit ID: ${r}`)},j=r=>{alert(`Edit details for unit ID: ${r}`)},m=r=>{window.confirm("Are you sure you want to delete this unit?")&&alert(`Unit ID ${r} deleted`)};return e.jsxs(u,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Registered Property Units"}),e.jsx(g,{children:e.jsx(b,{children:e.jsxs(_,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(w,{children:e.jsxs(a,{children:[e.jsx(t,{children:"Property/Building Name"}),e.jsx(t,{children:"Unit Type"}),e.jsx(t,{children:"Unit Number"}),e.jsx(t,{children:"Rent Price"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Action"})]})}),e.jsx(N,{children:h?e.jsx(a,{children:e.jsx(s,{colSpan:"8",className:"text-center",children:"Loading property units..."})},"loading"):d.length===0?e.jsx(a,{children:e.jsx(s,{colSpan:"6",className:"text-center",children:"No property units found."})},"no-data"):e.jsx(e.Fragment,{children:d.map(r=>e.jsxs(a,{children:[e.jsx(s,{children:r.property_name}),e.jsx(s,{children:r.unit_type}),e.jsx(s,{children:r.unit_number}),e.jsxs(s,{children:["â‚±",r.rent_price]}),e.jsx(s,{children:r.status}),e.jsxs(s,{children:[e.jsx(c,{color:"info",size:"sm",className:"me-2",onClick:()=>x(r.property_unit_id),children:e.jsx(y,{})}),e.jsx(c,{color:"warning",size:"sm",className:"me-2",onClick:()=>j(r.property_unit_id),children:e.jsx(f,{})}),e.jsx(c,{color:"danger",size:"sm",onClick:()=>m(r.property_unit_id),children:e.jsx(C,{})})]})]},r.property_unit_id))})})]})})})]})};export{S as default};
