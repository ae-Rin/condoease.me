import{r as x,j as e,a as y,C}from"./index-CKHy79aX.js";import{C as j,a as N}from"./CCardBody-CLgk6mHF.js";import{C as g}from"./CCardHeader-BmitQTPN.js";import{C as b}from"./CForm-CdgG4RbZ.js";import{C as l,a as t}from"./CRow-dKhxAWhg.js";import{C as o}from"./CFormInput-Kh4QSCiu.js";import{C as m}from"./CFormSelect-Cj7oNEou.js";const f=["Philippine Passport","Driver's License","National ID (PhilSys)","UMID Card","PRC ID","SSS ID","Voter's ID","Senior Citizen ID","PhilHealth ID","TIN Card","School ID","Postal ID","Employee ID","Barangay Certificate/Clearance","Company ID","Pag-IBIG Loyalty Card","OWWA Card","NBI Clearance","Military ID"],E=()=>{const[a,i]=x.useState({lastName:"",firstName:"",email:"",contactNumber:"",street:"",barangay:"",city:"",province:"",idType:"",idNumber:"",idDocument:null,occupationStatus:"",occupationPlace:"",emergencyContactName:"",emergencyContactNumber:"",unitNumber:"",moveInDate:"",leaseTerm:"",monthlyRent:""}),r=n=>{const{name:c,value:s}=n.target;i(p=>({...p,[c]:s}))},d=n=>{const c=n.target.files[0];i(s=>({...s,idDocument:c}))},u=async()=>{try{const n=await fetch("http://localhost:5000/api/tenants",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!n.ok)throw new Error(await n.text());const c=await n.json();setTenantsList(c)}catch(n){console.error("Failed to fetch tenants:",n)}},h=async n=>{n.preventDefault();const c=new FormData;Object.keys(a).forEach(s=>{c.append(s,a[s])});try{const s=await fetch("http://localhost:5000/api/tenants",{method:"POST",body:c,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!s.ok)throw new Error(await s.text());alert("Tenant registered successfully!"),i({lastName:"",firstName:"",email:"",contactNumber:"",street:"",barangay:"",city:"",province:"",idType:"",idNumber:"",idDocument:null,occupationStatus:"",occupationPlace:"",emergencyContactName:"",emergencyContactNumber:"",unitNumber:"",moveInDate:"",leaseTerm:"",monthlyRent:""}),await u()}catch(s){console.error(s),alert("Error registering tenant.")}};return e.jsxs(y,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Register New Tenant"}),e.jsxs(j,{children:[e.jsx(g,{className:"text-body-secondary",children:e.jsx("strong",{children:"Tenant Information"})}),e.jsx(N,{children:e.jsxs(b,{onSubmit:h,children:[e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"lastName",placeholder:"Last Name",value:a.lastName,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"firstName",placeholder:"First Name",value:a.firstName,onChange:r,required:!0})})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(o,{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"contactNumber",placeholder:"Contact Number",value:a.contactNumber,onChange:r,required:!0})})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"street",placeholder:"Street",value:a.street,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"barangay",placeholder:"Barangay",value:a.barangay,onChange:r,required:!0})})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"city",placeholder:"City",value:a.city,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"province",placeholder:"Province",value:a.province,onChange:r,required:!0})})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsxs(m,{name:"idType",value:a.idType,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select ID Type"}),f.map((n,c)=>e.jsx("option",{value:n,children:n},c))]})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"idNumber",placeholder:"ID Number",value:a.idNumber,onChange:r,required:!0})})]}),e.jsx(l,{className:"mb-3",children:e.jsx(t,{md:12,children:e.jsx(o,{type:"file",name:"idDocument",onChange:d,required:!0})})}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Place of Work / School"}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsxs(m,{name:"occupationStatus",value:a.occupationStatus,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select Occupation Status"}),e.jsx("option",{value:"employee",children:"Employee"}),e.jsx("option",{value:"employer",children:"Employer"}),e.jsx("option",{value:"self-employed",children:"Self-Employed"}),e.jsx("option",{value:"student",children:"Student"})]})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"occupationPlace",placeholder:"Company / School Name",value:a.occupationPlace,onChange:r,required:!0})})]}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Emergency Contact"}),e.jsxs(l,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"emergencyContactName",placeholder:"Emergency Contact Name",value:a.emergencyContactName,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(o,{type:"text",name:"emergencyContactNumber",placeholder:"Emergency Contact Number",value:a.emergencyContactNumber,onChange:r,required:!0})})]}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(C,{type:"submit",style:{backgroundColor:"#F28D35",color:"white",fontWeight:"bold"},children:"Register Tenant"})})]})})]})]})};export{E as default};
