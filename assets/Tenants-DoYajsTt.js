import{r as d,j as e,a as N,C as b}from"./index-DMdMzUr9.js";import{C as f,a as v}from"./CCardBody-CUhezjej.js";import{C as S}from"./CCardHeader-DpMSYA3O.js";import{C as I}from"./CForm-BmLJMM-g.js";import{C as c,a as t}from"./CRow-DDz2JyRz.js";import{C as n}from"./CFormInput-BVQ5FRhx.js";import{C as y}from"./CFormSelect-DUdOrm_j.js";import"./CFormControlWrapper-4UYghSX6.js";const D=["Philippine Passport","Driver's License","National ID (PhilSys)","UMID Card","PRC ID","SSS ID","Voter's ID","Senior Citizen ID","PhilHealth ID","TIN Card","School ID","Postal ID","Employee ID","Barangay Certificate/Clearance","Company ID","Pag-IBIG Loyalty Card","OWWA Card","NBI Clearance","Military ID"],R=()=>{const[a,i]=d.useState({lastName:"",firstName:"",email:"",contactNumber:"",street:"",barangay:"",city:"",province:"",idType:"",idNumber:"",idDocument:null,occupationStatus:"",occupationPlace:"",emergencyContactName:"",emergencyContactNumber:""}),[u,h]=d.useState(!1),[p,x]=d.useState(null),j="https://condoease-backends.onrender.com",r=l=>{const{name:o,value:s}=l.target;i(m=>({...m,[o]:s}))},C=l=>{const o=l.target.files[0];i(s=>({...s,idDocument:o}))},g=async l=>{l.preventDefault(),h(!0),x(null);const o=new FormData;Object.keys(a).forEach(s=>{o.append(s,a[s])});try{const s=await fetch(`${j}/api/tenants`,{method:"POST",body:o,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),m=await s.json();if(!s.ok)throw new Error(m.detail||"Unknown error");alert("Tenant registered successfully!"),i({lastName:"",firstName:"",email:"",contactNumber:"",street:"",barangay:"",city:"",province:"",idType:"",idNumber:"",idDocument:null,occupationStatus:"",occupationPlace:"",emergencyContactName:"",emergencyContactNumber:""})}catch(s){console.error("Error submitting tenant:",s),x(s.message)}finally{h(!1)}};return e.jsxs(N,{className:"mt-5",children:[e.jsx("h4",{className:"mb-4",children:"Register New Tenant"}),e.jsxs(f,{children:[e.jsx(S,{className:"text-body-secondary",children:e.jsx("strong",{children:"Tenant Information"})}),e.jsxs(v,{children:[p&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:p}),e.jsxs(I,{onSubmit:g,children:[e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"lastName",placeholder:"Last Name",value:a.lastName,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"firstName",placeholder:"First Name",value:a.firstName,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"contactNumber",placeholder:"Contact Number",value:a.contactNumber,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"street",placeholder:"Street",value:a.street,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"barangay",placeholder:"Barangay",value:a.barangay,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"city",placeholder:"City",value:a.city,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"province",placeholder:"Province",value:a.province,onChange:r,required:!0})})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsxs(y,{name:"idType",value:a.idType,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select ID Type"}),D.map((l,o)=>e.jsx("option",{value:l,children:l},o))]})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"idNumber",placeholder:"ID Number",value:a.idNumber,onChange:r,required:!0})})]}),e.jsx(c,{className:"mb-3",children:e.jsx(t,{md:12,children:e.jsx(n,{type:"file",name:"idDocument",onChange:C,required:!0})})}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Place of Work / School"}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsxs(y,{name:"occupationStatus",value:a.occupationStatus,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select Occupation Status"}),e.jsx("option",{value:"employee",children:"Employee"}),e.jsx("option",{value:"employer",children:"Employer"}),e.jsx("option",{value:"self-employed",children:"Self-Employed"}),e.jsx("option",{value:"student",children:"Student"})]})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"occupationPlace",placeholder:"Company / School Name",value:a.occupationPlace,onChange:r,required:!0})})]}),e.jsx("hr",{className:"my-4"}),e.jsx("h5",{className:"mb-3",children:"Emergency Contact"}),e.jsxs(c,{className:"mb-3",children:[e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"emergencyContactName",placeholder:"Emergency Contact Name",value:a.emergencyContactName,onChange:r,required:!0})}),e.jsx(t,{md:6,children:e.jsx(n,{type:"text",name:"emergencyContactNumber",placeholder:"Emergency Contact Number",value:a.emergencyContactNumber,onChange:r,required:!0})})]}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(b,{type:"submit",style:{backgroundColor:"#F28D35",color:"white",fontWeight:"bold"},disabled:u,children:u?"Submitting...":"Register Tenant"})})]})]})]})]})};export{R as default};
